import{D as h,A as _,C as y,p as f,E as j,d as v,c as x,a as s,b as o,w as l,u as a,g,y as S,t as T,F as k,o as $}from"./app-CeMV5ziH.js";import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-CQcAZo-0.js";import{_ as P}from"./MainCard.vue_vue_type_script_setup_true_lang-CmyVH7TP.js";import{_ as i}from"./FormInput.vue_vue_type_script_setup_true_lang-BqlIn3dT.js";import{_ as F}from"./AppLogoIcon.vue_vue_type_script_setup_true_lang-DpLldRkN.js";import{_ as L,a as C,b as D,c as J}from"./CardTitle.vue_vue_type_script_setup_true_lang-BH3IaQne.js";import{l as O}from"./listJenis-YpRF8th8.js";import{_ as A}from"./FormSelect.vue_vue_type_script_setup_true_lang-BevsTRTw.js";import{_ as E}from"./AsyncSelect.vue_vue_type_script_setup_true_lang-Corm_l-w.js";import"./useForwardExpose-CVHsIZZ7.js";import"./VisuallyHidden-DKRlcCpf.js";import"./RovingFocusGroup-jEZiBHbE.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-4Ns3tNZl.js";import"./createLucideIcon-CMA__c-a.js";import"./Label.vue_vue_type_script_setup_true_lang-Bf9Q_slT.js";import"./Input.vue_vue_type_script_setup_true_lang-Cmy8y7IN.js";import"./nullish-CHIgUVhi.js";import"./useFormControl-igj68GmY.js";import"./check-BDVsbcDL.js";import"./VisuallyHiddenInput-Cj8OMqFL.js";function I(){const r=h({jalan_id:null,kode_tiang:"",latitude:"",longitude:"",jenis:"",tipe_tiang:"",tahun_pemasangan:0,lokasi_detail:"",keterangan:""}),d=_("Create Apj"),e=y(),p=O,m=f(()=>e.props.data),c=f(()=>e.props.list_jalan),u=_(),n=async()=>{m.value?.id==null?r.post("/lalin/apj",{onSuccess:()=>{console.log("âœ… POST Success")},onError:t=>{console.log("âŒ POST Errors:",t)},onFinish:()=>{console.log("ðŸ POST Finished")}}):r.put("/lalin/apj/"+m.value?.id)};return j(()=>e.props.data,t=>{if(t){const b=t;r.defaults(t),Object.assign(r,b)}},{immediate:!0}),{form:r,onSubmit:n,title:d,data:m,jenis:p,list_jalan:c,selectedJalan:u}}const K={class:"bg-muted/40 w-full"},N={class:"space-y-1"},V={class:"space-y-1"},B={class:"space-y-1"},M={class:"space-y-1"},U={class:"space-y-1"},q={class:"space-y-1"},z={class:"space-y-1"},G={class:"space-y-1"},H={class:"space-y-1"},Q={class:"col-span-2 flex justify-end pt-2"},ga=v({__name:"Form",setup(r){const{onSubmit:d,form:e,title:p,list_jalan:m,jenis:c}=I();return(u,n)=>($(),x(k,null,[s(w,null,{default:l(()=>[s(P,{title:a(p)},{main:l(()=>[o("div",K,[s(a(L),{class:"w-full shadow-sm border border-border/40"},{default:l(()=>[s(a(C),null,{default:l(()=>[s(a(D),{class:"text-lg font-semibold"},{default:l(()=>[...n[3]||(n[3]=[g("Data Apj",-1)])]),_:1})]),_:1}),s(a(J),null,{default:l(()=>[o("form",{onSubmit:n[2]||(n[2]=S((...t)=>a(d)&&a(d)(...t),["prevent"])),class:"grid grid-cols-2 gap-4"},[o("div",N,[s(E,{error:a(e).errors.jalan_id,label:"Pilih Jalan",value:a(e).jalan_id,"onUpdate:modelValue":n[0]||(n[0]=t=>a(e).jalan_id=Number(t?.value)),options:a(m).map(t=>({value:t.id.toString(),name:t.nama_jalan}))},null,8,["error","value","options"])]),o("div",V,[s(i,{label:"Kode Tiang",placeholder:"Insert Kode Tiang..",name:"kode_tiang",form:a(e)},null,8,["form"])]),o("div",B,[s(i,{label:"Latitude",type:"text",placeholder:"Insert Latitude",name:"latitude",form:a(e)},null,8,["form"])]),o("div",M,[s(i,{type:"text",label:"Longtitude",placeholder:"Insert Longtitude",name:"longitude",form:a(e)},null,8,["form"])]),o("div",U,[s(i,{type:"text",label:"Tipe Tiang",placeholder:"Insert Tipe Tiang",name:"tipe_tiang",form:a(e)},null,8,["form"])]),o("div",q,[s(i,{type:"number",label:"Tahun Pemasangan",placeholder:"Tahun Pemasangan",name:"tahun_pemasangan",form:a(e)},null,8,["form"])]),o("div",z,[s(i,{type:"text",label:"Lokasi Detail",placeholder:"Lokasi Detail",name:"lokasi_detail",form:a(e)},null,8,["form"])]),o("div",G,[s(i,{type:"text",label:"Keterangan",placeholder:"Keterangan",name:"keterangan",form:a(e)},null,8,["form"])]),o("div",H,[s(A,{onOnChange:n[1]||(n[1]=t=>a(e).jenis=t.value??""),placeholder:"Select Jenis",value:a(e).jenis,options:a(c),label:"Jenis"},null,8,["value","options"])]),o("div",Q,[s(a(F),{type:"submit",class:"px-6",disabled:a(e).processing},{default:l(()=>[g(T(a(e).processing?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"])])],32)]),_:1})]),_:1})])]),_:1},8,["title"])]),_:1}),n[4]||(n[4]=o("div",null,null,-1))],64))}});export{ga as default};
